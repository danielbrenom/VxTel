@page "/"
@inject ViewModels.SimulatorViewModel ViewModel

<div class="section no-pad-bot" id="index-banner">
    <div class="container">
        <br><br>
        <h1 class="header center orange-text">FaleMais</h1>
        <div class="row center">
            <h5 class="header col s12 light">Simule a sua chamada e encontre o melhor plano para você</h5>
        </div>
        <br><br>
    </div>
</div>

<div class="container">
    <div class="section">
        <!--   Icon Section   -->
        <div class="row" id="searchForm">
            <div class="col-md-12 s12 m4">
                <div class="icon-block">
                    <EditForm Model="ViewModel.SimulationData" OnSubmit="ViewModel.SimulateFee">
                        <h2 class="center light-blue-text">
                            <i class="material-icons">Para onde você quer ligar?</i>
                        </h2>
                        <div class="row">
                            <div class="input-field col-3 s3">
                                <select id="plan" required>
                                    <option value="" disabled selected>Selecione um plano</option>
                                    <option value="0">FaleMais 30</option>
                                    <option value="1">FaleMais 60</option>
                                    <option value="2">FaleMais 120</option>
                                </select>
                                <label>Planos disponíveis</label>
                            </div>
                            <TextField Icon="fa-phone-volume" TType="int" @bind-Value="@ViewModel.SimulationData.OriginDDD">
                                <Title>Origem</Title>
                            </TextField>
                            <TextField Icon="fa-phone-volume fa-flip-horizontal" TType="int" @bind-Value="@ViewModel.SimulationData.DestinationDDD">
                                <Title>Destino</Title>
                            </TextField>
                            <TextField Icon="fa-hourglass-half" TType="int" @bind-Value="@ViewModel.SimulationData.DesiredMinutes">
                                <Title>Minutos</Title>
                            </TextField>
                        </div>
                        <div class="row">
                            <div class="col"></div>
                            <div class="col-6 s6">
                                <button class="btn-large waves-effect waves-light red" type="submit" style="width: 100%" id="searchButton">
                                    Simular preço
                                </button>
                            </div>
                            <div class="col"></div>
                        </div>
                    </EditForm>
                </div>
            </div>
        </div>
        <div class="row" id="resultArea">
            <RazorTable TType="VxTel.Domain.Models.Response.SimulatorResponse" Data="@ViewModel.SimulatorResponses">
                <TableHeader>
                    <th>Origem</th>
                    <th>Destino</th>
                    <th>Tempo</th>
                    <th>Plano FaleMais</th>
                    <th>Com FaleMais</th>
                    <th>Sem FaleMais</th>
                </TableHeader>
                <LineTemplate Context="result">
                    <td>@result.OriginDDD</td>
                    <td>@result.DestinationDDD</td>
                    <td>@result.DesiredMinutes</td>
                    <td>@result.SelectedPlan</td>
                    <td>@result.PriceWith</td>
                    <td>@result.PriceWithout</td>
                </LineTemplate>
            </RazorTable>
        </div>
    </div>
</div>

@code {


}